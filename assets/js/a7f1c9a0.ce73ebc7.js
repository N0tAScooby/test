"use strict";(globalThis.webpackChunkmy_docs=globalThis.webpackChunkmy_docs||[]).push([[9791],{1222:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/image-1-73235457ccde14fe5227a93c90eb6565.png"},1300:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/image-3-08cbde1b90f209c591c703aedd17074d.png"},4228:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/image-1024x341-a48ab3934a624078f1871f19c7128f39.png"},4533:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/image-5-807x1024-adeb8bbef13499b8c6cd544d5f9752e8.png"},4961:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/grafik-5b93bf4ab70347c76e2ea09aa5b2ac8b.png"},4964:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"vonnativerinstallationzudockercomposemigrieren/index","title":"Von Nativer Installation zu Docker Compose migrieren","description":"Eine Installation mit Docker Compose bringt f\xfcr dich als Administrator einige Vorteile bez\xfcglich des Installationsaufwands und des Aufwands den es ben\xf6tigt den Server upzudaten. Deshalb empfehlen wir ein natives Setup zu Docker Compose zu migrieren.","source":"@site/docs/vonnativerinstallationzudockercomposemigrieren/index.md","sourceDirName":"vonnativerinstallationzudockercomposemigrieren","slug":"/vonnativerinstallationzudockercomposemigrieren","permalink":"/test/docs/vonnativerinstallationzudockercomposemigrieren","draft":false,"unlisted":false,"editUrl":"https://github.com/N0tAScooby/test/edit/main/docs/vonnativerinstallationzudockercomposemigrieren/index.md","tags":[],"version":"current","frontMatter":{"title":"Von Nativer Installation zu Docker Compose migrieren","slug":"/vonnativerinstallationzudockercomposemigrieren"},"sidebar":"tutorialSidebar","previous":{"title":"Update des ALARMiator Servers","permalink":"/test/docs/updatedesalarmiatorservers"},"next":{"title":"Wallboard - Konfiguration","permalink":"/test/docs/wallboard-konfiguration"}}');var s=r(4848),t=r(8453);const a={title:"Von Nativer Installation zu Docker Compose migrieren",slug:"/vonnativerinstallationzudockercomposemigrieren"},d="Von Nativer Installation zu Docker Compose migrieren",l={},o=[{value:"Natives Setup Updaten",id:"natives-setup-updaten",level:2},{value:"Docker installieren",id:"docker-installieren",level:2},{value:"Backup anlegen",id:"backup-anlegen",level:2},{value:"Neuer Ordner im Home Verzeichnis",id:"neuer-ordner-im-home-verzeichnis",level:2},{value:"Compose File erstellen",id:"compose-file-erstellen",level:2},{value:"Beta Tester werden",id:"beta-tester-werden",level:3},{value:"Das neue Release (Docker Image) herunterladen",id:"das-neue-release-docker-image-herunterladen",level:2},{value:"Natives Setup stoppen",id:"natives-setup-stoppen",level:2},{value:"Docker Compose Setup starten",id:"docker-compose-setup-starten",level:2},{value:"Monitoring des Traffics",id:"monitoring-des-traffics",level:2},{value:"SSL Zertifikate installieren",id:"ssl-zertifikate-installieren",level:2},{value:"Voraussetzungen \u2013 Portweiterleitung",id:"voraussetzungen--portweiterleitung",level:3},{value:"SSL-Zertifikat anfordern",id:"ssl-zertifikat-anfordern",level:3},{value:"Reverse Proxy einrichten",id:"reverse-proxy-einrichten",level:2},{value:"Backup einspielen",id:"backup-einspielen",level:2},{value:"Natives Setup l\xf6schen",id:"natives-setup-l\xf6schen",level:2},{value:"F\xfcr VPS oder Root Server Nutzer",id:"f\xfcr-vps-oder-root-server-nutzer",level:2}];function c(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"von-nativer-installation-zu-docker-compose-migrieren",children:"Von Nativer Installation zu Docker Compose migrieren"})}),"\n",(0,s.jsx)(n.p,{children:"Eine Installation mit Docker Compose bringt f\xfcr dich als Administrator einige Vorteile bez\xfcglich des Installationsaufwands und des Aufwands den es ben\xf6tigt den Server upzudaten. Deshalb empfehlen wir ein natives Setup zu Docker Compose zu migrieren."}),"\n",(0,s.jsx)(n.p,{children:"Im folgenden werden die n\xf6tigen Schritte beschrieben die daf\xfcr notwenig sind."}),"\n",(0,s.jsx)(n.h2,{id:"natives-setup-updaten",children:"Natives Setup Updaten"}),"\n",(0,s.jsx)(n.p,{children:"Um sp\xe4ter dein Backup problemlos einzuspielen update zuerst deinen nativen Server. Starte diesen nach dem Update und f\xfchre danach einen Neustart \xfcber das Adminpanel aus, um den neuen Datenbankmodus zu starten, der mit dem neuen Release benutzt wird, um den Server zu beschleunigen."}),"\n",(0,s.jsx)(n.h2,{id:"docker-installieren",children:"Docker installieren"}),"\n",(0,s.jsxs)(n.p,{children:["Solltest du Docker noch nicht installiert haben kannst du im Guide zur ",(0,s.jsx)(n.a,{href:"https://handbuch.alarmiator.de/?docs=installation-des-servers-via-docker-compose-empfohlen",children:"Installation des Servers mit Docker Compose"})," nachschauen wie das geht. Relevant sind Schritte 1 bis einschlie\xdflich 4. Folge nach dem Installieren von Docker wieder diesem Guide, um die Migration durchzuf\xfchren."]}),"\n",(0,s.jsx)(n.h2,{id:"backup-anlegen",children:"Backup anlegen"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Diesen Schritt auf keinen Fall \xfcberspringen"})," wir ben\xf6tigen das Backup danach, um es ins frische Compose Setup einzuspielen!"]}),"\n",(0,s.jsx)(n.p,{children:"Hast du kein Backup wirst du danach einen frischen Server haben."}),"\n",(0,s.jsx)(n.p,{children:'Ein Backup kannst du im Admin UI erstellen unter dem Reiter "Backup & Restore". Lade es dir danach herunter und lege es irgendwo sicher ab.'}),"\n",(0,s.jsx)(n.h2,{id:"neuer-ordner-im-home-verzeichnis",children:"Neuer Ordner im Home Verzeichnis"}),"\n",(0,s.jsx)(n.p,{children:'Du solltest auf deinem Server einen Ordner "alarmiatorserver" oder \xe4hnliches eingerichtet haben, in dem alle Dateien f\xfcr die Native Installation liegen. Wir empfehlen dir im Home Verzeichnis einen neuen Ordner anzulegen:'}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"cd ~ && mkdir alarmiator-server && cd alarmiator-server\n"})}),"\n",(0,s.jsx)(n.h2,{id:"compose-file-erstellen",children:"Compose File erstellen"}),"\n",(0,s.jsx)(n.p,{children:"Nun wollen wir ein sogenanntes Compose File erstellen:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"nano docker-compose.yml\n"})}),"\n",(0,s.jsx)(n.p,{children:"Kopiere folgenden Text in das File und speicher es ab:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"networks:\n  alarmiator-network:\n    name: alarmiator-network\n    driver: bridge\n\nservices:\n  alarmiator_service:\n    networks:\n      - alarmiator-network\n    restart: always\n    image: alarmiator/alarmiator\n    healthcheck:\n      test: curl --fail http://localhost:5000 || exit 1\n      interval: 20s\n      retries: 5\n      start_period: 600s\n      timeout: 10s\n    volumes:\n      - alarm-db:/alarmiatorserver/store\n      - alarm-katsys-uploads:/alarmiatorserver/plugins/inbound/katsys/uploads\n      - alarm-public-img:/alarmiatorserver/public/assets/img\n      - alarm-uploads:/alarmiatorserver/uploads\n      - alarm-logs:/alarmiatorserver/logs\n      - alarm-backups:/alarmiatorserver/backup\n  nginxProxyManager:\n    networks:\n      - alarmiator-network\n    image: 'jc21/nginx-proxy-manager:2.10.0'\n    restart: always\n    depends_on:\n      alarmiator_service:\n        condition: service_healthy\n    ports:\n      - '80:80'\n      - '81:81'\n      - '443:443'\n    healthcheck:\n      test: curl --fail http://localhost:81 || exit 1\n      interval: 20s\n      retries: 5\n      start_period: 10s\n      timeout: 10s\n    volumes:\n      - /nginx-pm/data:/data\n      - /nginx-pm/letsencrypt:/etc/letsencrypt\n\nvolumes:\n  alarm-db:\n  alarm-katsys-uploads:\n  alarm-public-img:\n  alarm-uploads:\n  alarm-logs:\n  alarm-backups:\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Dieser Text sagt Docker wie er unseren Alarmiator Server zum laufen bringen soll. Das erspart uns jegliche weitere manuelle Installation.",(0,s.jsx)(n.br,{}),"\n","Auch beim Update des Servers wird automatisch ein neues Release heruntergeladen und danach sofort gestartet."]}),"\n",(0,s.jsx)(n.h3,{id:"beta-tester-werden",children:"Beta Tester werden"}),"\n",(0,s.jsx)(n.p,{children:"Falls du bzw. deine Organisation schneller Neuerungen erhalten m\xf6chte bieten wir eine Beta Version an. Diese wird hochgeladen, nachdem wir ein Release getestet haben und erlaubt es euch vor dem offiziellen Release diese Beta Versionen zu testen. Falls ihr dann Probleme entdeckt k\xf6nnt ihr uns diese melden und wir k\xf6nnen Sie vor dem offiziellen Release noch beheben."}),"\n",(0,s.jsx)(n.p,{children:"Um auf die Beta Version umzusteigen muss folgende Zeile in der docker-compose.yml ge\xe4ndert werden:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"    image: alarmiator/alarmiator\n"})}),"\n",(0,s.jsx)(n.p,{children:"zu:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"    image: alarmiator/alarmiator:latest-beta\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Das Beta Image wird nicht automatisch geupdated. Das muss dennoch wie bei einem normalen Release manuell getan werden wie im n\xe4chsten Abschnitt erkl\xe4rt. Man kann sich jedoch mit einem Projekt namens ",(0,s.jsx)(n.a,{href:"https://containrrr.dev/watchtower/",children:"Watchtower"})," selbst ein Monitoring einrichten, um Benachrichtigungen zu erhalten, wenn eine neue Beta Version hochgeladen wurde."]}),"\n",(0,s.jsx)(n.h2,{id:"das-neue-release-docker-image-herunterladen",children:"Das neue Release (Docker Image) herunterladen"}),"\n",(0,s.jsx)(n.p,{children:"Um das Docker Image herunterzuladen gib folgendes ein:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"docker compose pull\n"})}),"\n",(0,s.jsx)(n.p,{children:"Das l\xe4dt erstmal das Image herunter und entpackt es. So k\xf6nnen wir das neue Release herunterladen ohne den Nativen ALARMiator Server zu stoppen. Das erspart uns eine lange Downtime beim migrieren."}),"\n",(0,s.jsx)(n.h2,{id:"natives-setup-stoppen",children:"Natives Setup stoppen"}),"\n",(0,s.jsx)(n.p,{children:"Bevor wir jedoch starten m\xfcssen wir das alte Setup erstmal stoppen."}),"\n",(0,s.jsxs)(n.p,{children:["Das Native Setup hat ja bereits Docker Images wie den Nginx Proxy Manager am laufen. Diesen wollen wir nun stoppen.",(0,s.jsx)(n.br,{}),"\n","Suchen wir einmal unseren Container:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:' docker ps --format "{{.ID}}: {{.Image}}"\n'})}),"\n",(0,s.jsx)(n.p,{children:"Wir wollen den goaccess Container und den Nginx Proxy Manager stoppen. Du siehst in deiner Konsole nun jeweils links die ID des Containers und Rechts davon den Image Namen. Gebe also f\xfcr diese beiden Container diesen Befehl nacheinander ein und ersetze jeweils die container_id:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"docker stop container_id && docker rm container_id -v\n"})}),"\n",(0,s.jsx)(n.p,{children:'Gibst du jetzt wieder den "docker ps " Befehl von oben ein solltest du keine laufenden Container mehr sehen, au\xdfer den Portainer. Dieser darf bleiben.'}),"\n",(0,s.jsx)(n.p,{children:"So nun wollen wir noch den eigentlichen nativen ALARMiator-Server stoppen. Navigiere dazu in den Ordner des nativen Setups:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"cd ../alarmiatorserver && ls\n"})}),"\n",(0,s.jsx)(n.p,{children:"Du solltest nun alle Ordner und Dateien des letzten Releases sehen. Gebe hier folgendes ein:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"pm2 delete 0\n"})}),"\n",(0,s.jsx)(n.p,{children:"Das l\xf6scht den alten Server aus der pm2 Startup Liste."}),"\n",(0,s.jsx)(n.p,{children:"Navigieren wir nun wieder in den Ordner f\xfcr das neue Setup:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"cd ../alarmiator-server\n"})}),"\n",(0,s.jsx)(n.h2,{id:"docker-compose-setup-starten",children:"Docker Compose Setup starten"}),"\n",(0,s.jsx)(n.p,{children:"Gebe folgendes ein, um eine frische Instanz hochzufahren:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"docker compose up -d\n"})}),"\n",(0,s.jsx)(n.p,{children:"Sieht dein Terminal so aus l\xe4uft bereits alles was du ben\xf6tigst:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:r(6052).A+"",width:"1024",height:"70"})}),"\n",(0,s.jsx)(n.p,{children:"Als1 n\xe4chstes wollen wir den Server von au\xdfen \xfcber einen Reverse Proxy erreichbar machen."}),"\n",(0,s.jsx)(n.h2,{id:"monitoring-des-traffics",children:"Monitoring des Traffics"}),"\n",(0,s.jsxs)(n.p,{children:["Solltest du Monitoring wollen k\xf6nnen wir goaccess empfehlen. Dieser liest die Logs des Reverse Proxies aus und visualisiert Sie.",(0,s.jsx)(n.br,{}),"\n","Hier sind jedoch sensible Daten zu sehen. Stelle also unbedingt sicher, dass dieses Dashboard nicht \xf6ffentlich zu erreichen ist.",(0,s.jsx)(n.br,{}),"\n","Hier ist eine yml Konfiguration die du als Service in die docker-compose.yml schreiben k\xf6nntest:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"goaccess:\n    image: xavierh/goaccess-for-nginxproxymanager:latest\n    container_name: goaccess\n    restart: always\n    depends_on:\n      nginxProxyManager:\n        condition: service_healthy\n    environment:\n        - TZ=Europe/Berlin\n        - LOG_TYPE=NPM\n    ports:\n        - '7880:7880'\n    volumes:\n      - /nginx-pm/data/logs:/opt/log:ro\n"})}),"\n",(0,s.jsx)(n.p,{children:"Da der interne Port 7880 auf den Host gemapped wird ist dieser auf einer VPS sofort unverschl\xfcsselt zu erreichen. Falls du dich nicht gut genug auskennst empfehlen wir dir kein Monitoring auf diese Weise einzurichten."}),"\n",(0,s.jsx)(n.h2,{id:"ssl-zertifikate-installieren",children:"SSL Zertifikate installieren"}),"\n",(0,s.jsx)(n.h3,{id:"voraussetzungen--portweiterleitung",children:"Voraussetzungen \u2013 Portweiterleitung"}),"\n",(0,s.jsx)(n.p,{children:"Damit die entsprechenden Zertifikate erstellt werden k\xf6nnen, muss Dein ALARMiator Server \xfcber den Port 80 und Port 443 aus dem Internet erreichbar sein. Die Zertifizierungsstelle baut w\xe4hrend des Prozesses kurz eine Verbindung zu Deinem Server auf um sicher zu stellen, dass die Anfrage auch berechtig ist."}),"\n",(0,s.jsx)(n.p,{children:"Um Deinen ALARMiator Server \xfcber Port 80 und Port 443 aus dem Internet erreichbar zu machen, musst Du in Deinem Router (der die Internetverbindung herstellt) und ggf. auch in Firewall-Systemen (solltest Du welche betreiben) eine Port-Weiterleitung einrichten. Da dies von Router zu Router unterschiedlich eingerichtet wird, k\xf6nnen wir hier an dieser Stelle keine direkte Anleitung geben. Suche in der Oberfl\xe4che Deines Router nach Begriffen wie \u201ePort-Forwarding, Port-Weiterleitung, etc.\u201c."}),"\n",(0,s.jsx)(n.p,{children:"Meist gibt man einen Quellport (das ist der aus dem Internet ankommende, hier Port 80 und Port 443), eine IP-Adresse des Zielsystems (in unserem Fall Dein ALARMiator Server) und einen Zielport an (in unserem Fall auch wiederum Port 80 und Port 443)."}),"\n",(0,s.jsx)(n.h3,{id:"ssl-zertifikat-anfordern",children:"SSL-Zertifikat anfordern"}),"\n",(0,s.jsx)(n.p,{children:"Verbinde dich in deinem Browser mit deinem NGINX Proxy Manager:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"```ip-addresse```:81\n"})}),"\n",(0,s.jsx)(n.p,{children:"Standardlogin bei Erstanmeldung ist:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Email:    admin@example.com\nPassword: changeme\n"})}),"\n",(0,s.jsx)(n.p,{children:"Nach \xc4nderung deiner Login Daten solltest du folgendes sehen:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:r(4228).A+"",width:"1024",height:"341"})}),"\n",(0,s.jsx)(n.p,{children:"Klicke auf \u201eSSL Certificates\u201c dann auf \u201eAdd SSL Certificate\u201c:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:r(1222).A+"",width:"718",height:"345"})}),"\n",(0,s.jsx)(n.p,{children:"Trage unter Domain Names deine Domain f\xfcr deinen ALARMiator ein und dr\xfccke Enter."}),"\n",(0,s.jsx)(n.p,{children:"Gebe nun noch eine Mail an, um dein SSL Zertifikat von Let\u2019s Encrypt anzufordern."}),"\n",(0,s.jsx)(n.p,{children:"Dr\xfccke auf Save."}),"\n",(0,s.jsx)(n.p,{children:"Du hast nun dein SSL Zertifikat angefordert."}),"\n",(0,s.jsx)(n.h2,{id:"reverse-proxy-einrichten",children:"Reverse Proxy einrichten"}),"\n",(0,s.jsx)(n.p,{children:"Als n\xe4chstes wollen wir unseren Alarmiator Server ordentlich \xfcber einen Reverse Proxy nach au\xdfen zug\xe4nglich machen."}),"\n",(0,s.jsx)(n.p,{children:"Navigiere zu \u201eProxy Hosts\u201c und klicke auf \u201eAdd Proxy Host\u201c."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:r(4961).A+"",width:"1002",height:"722"})}),"\n",(0,s.jsx)(n.p,{children:"Du solltest folgendes sehen:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:r(8650).A+"",width:"937",height:"1024"})}),"\n",(0,s.jsx)(n.p,{children:"Hier m\xfcssen wir nun eintragen wie unser Proxy auf den ALARMiator Server weiterleiten soll."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"WICHTIG: Es muss \u201ealarmiator_service\u201c als hostname angegeben sein. Dieser ist in unserer compose.yml so genannt worden und muss auch hier \xfcbereinstimmen. Zus\xe4tzlich darf der hostname von eurem Server nicht identisch sein. Habt ihr also euren Docker Host als ihr Linux installiert habt \u201ealarmiator_service\u201c genannt solltet ihr in der oben angegeben docker-compose-yml alle Vorkommnisse von alarmiator_service zu etwas anderem \xe4ndern und logischer Weise auch im Nginx Proxy Manager diesen neuen Namen verwenden."})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:r(5197).A+"",width:"700",height:"304"})}),"\n",(0,s.jsx)(n.p,{children:"Ersetze hier nat\xfcrlich die Domain Names mit deiner Domain. Den Rest kannst du 1:1 \xfcbernehmen."}),"\n",(0,s.jsx)(n.p,{children:"Klicke nun auf den Custom Locations Tab. Klicke auf Add Location um eine neue Weiterleitung einzuf\xfcgen:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:r(1300).A+"",width:"775",height:"684"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Beachte hier den extra Slash hinter alarmiator_service"}),". Diesen ben\xf6tigst du nur f\xfcr die Api Location."]}),"\n",(0,s.jsx)(n.p,{children:"Nun tragen wir noch zwei weiter Locations ein."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:r(4533).A+"",width:"807",height:"1024"})}),"\n",(0,s.jsx)(n.p,{children:"Das ist einmal die Weiterleitung f\xfcr das Wallboard und als zweites die Weiterleitung f\xfcr den Spaceport."}),"\n",(0,s.jsx)(n.p,{children:"W\xe4hle nun noch dein Zertifikat im SSL Tab aus."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:r(9409).A+"",width:"935",height:"711"})}),"\n",(0,s.jsx)(n.p,{children:"Force SSL und HSTS dienen zur Erh\xf6hung der Sicherheit und sollten gesetzt sein."}),"\n",(0,s.jsxs)(n.p,{children:["Das war\u2019s auch schon. Du solltest deinen ALARMiator Server jetzt SSL verschl\xfcsselt \xfcber deine Domain erreichen k\xf6nnen!",(0,s.jsx)(n.br,{}),"\n","Falls du das nicht kannst haben wir eine Docker Troubleshooting Guide. Dort ist beschreiben wie du zum Beispiel alle Container mit Log Ausgaben startest usw."]}),"\n",(0,s.jsx)(n.h2,{id:"backup-einspielen",children:"Backup einspielen"}),"\n",(0,s.jsx)(n.p,{children:"Logge dich auf deiner frischen ALARMiator Instanz ein mit dem Standardlogin:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Username : admin"}),"\n",(0,s.jsx)(n.li,{children:"Passwort : admin"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:'Navigiere zum Reiter "Backup & Restore" und lade dein zuvor erstelltes Backup Hoch. Klicke danach auf den "Wiederherstellen" Button.'}),"\n",(0,s.jsx)(n.p,{children:"Dein Server startet nun einmal neu und ist danach wieder eingerichtet wie vor dem Migrieren."}),"\n",(0,s.jsx)(n.p,{children:"Sollte er nach dem Laden des Backups noch nicht wieder auf dem alten Stand sein sprich du findest immer noch eine frische Instanz vor, versuche einmal mittels 'docker compose down' und erneutem 'docker compose up -d', ob es danach geht. Dadurch, dass Docker den Container nach dem Backup wiederherstellen sofort wieder hochf\xe4hrt k\xf6nnte es sein, dass die \"alte frische Datenbank\" noch zwischengespeichert ist. Ein komplettes herunterfahren und wieder hochfahren durch dich l\xf6st dieses Problem jedoch."}),"\n",(0,s.jsx)(n.h2,{id:"natives-setup-l\xf6schen",children:"Natives Setup l\xf6schen"}),"\n",(0,s.jsxs)(n.p,{children:["Du solltest nat\xfcrlich erstmal den aktuell eingerichteten Server testen bevor du die alte Installation von deinem Server l\xf6scht.",(0,s.jsx)(n.br,{}),"\n","Du musst lediglich den alarmiatorserver Ordner l\xf6schen."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"cd ~ && ls\n"})}),"\n",(0,s.jsx)(n.p,{children:'Du solltest jetzt zwei Ordner sehen "alarmiatorserver" und "alarmiator-server". Wenn du unseren Guides gefolgt bist musst du "alarmiatorserver" l\xf6schen:'}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"rm -rf alarmiatorserver\n"})}),"\n",(0,s.jsx)(n.h2,{id:"f\xfcr-vps-oder-root-server-nutzer",children:"F\xfcr VPS oder Root Server Nutzer"}),"\n",(0,s.jsx)(n.p,{children:"Um auch euren Nginx Proxy Manager zu verschl\xfcsseln lest euch diesen Guide durch. Dies ist ein wichtiger Schritt und sollte nicht vernachl\xe4ssigt werden, um zu gew\xe4hrleisten, dass eure Kommunikation zum Admin Panel des Proxies mit https verschl\xfcsselt ist."}),"\n",(0,s.jsxs)(n.p,{children:["Hier geht's ",(0,s.jsx)(n.a,{href:"https://handbuch.alarmiator.de/?docs=nginx-proxy-manager-login-verschluesseln",children:"zum Guide"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},5197:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/image-2-ad8fe849047fb6336822e0f5b45854a2.png"},6052:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/image-6-1024x70-04acc6168a6e4a4f00bfaf3b82a8c195.png"},8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>d});var i=r(6540);const s={},t=i.createContext(s);function a(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(t.Provider,{value:n},e.children)}},8650:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/grafik-1-937x1024-21d280b36cec4c0ff8f36afd6d43ee06.png"},9409:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/image-9-5c4f339d74ab5a02f9e85057dbd5bf50.png"}}]);