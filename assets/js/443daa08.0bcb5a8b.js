"use strict";(globalThis.webpackChunkmy_docs=globalThis.webpackChunkmy_docs||[]).push([[7760],{3896:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>c,frontMatter:()=>a,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"automatic_ordering/Veraltet/sslverbindungeinrichtenveraltet/index","title":"SSL Verbindung einrichten [veraltet]","description":"WICHTIG:  Zur Einrichtung der SSL Verbindung gibt es 2 M\xf6glichkeiten. Die folgende M\xf6glichkeit wird ab Version 1.2.0 nicht mehr empfohlen, da die Erneuerung der Zertifikate auf diese Weise aufw\xe4ndiger ist. Stattdessen wird empfohlen es \xfcber den NginX Proxy Manager zu installieren.","source":"@site/docs/automatic_ordering/Veraltet/sslverbindungeinrichtenveraltet/index.md","sourceDirName":"automatic_ordering/Veraltet/sslverbindungeinrichtenveraltet","slug":"/sslverbindungeinrichtenveraltet","permalink":"/test/docs/sslverbindungeinrichtenveraltet","draft":false,"unlisted":false,"editUrl":"https://github.com/N0tAScooby/test/edit/main/docs/automatic_ordering/Veraltet/sslverbindungeinrichtenveraltet/index.md","tags":[],"version":"current","frontMatter":{"title":"SSL Verbindung einrichten [veraltet]","slug":"/sslverbindungeinrichtenveraltet"},"sidebar":"tutorialSidebar","previous":{"title":"Reverse Proxy einrichten [veraltet]","permalink":"/test/docs/reverseproxyeinrichtenveraltet"},"next":{"title":"SSL Zertifikate installieren (NginxPM) (veraltet)","permalink":"/test/docs/sslzertifikateinstallierennginxpmveraltet"}}');var i=r(4848),s=r(8453);const a={title:"SSL Verbindung einrichten [veraltet]",slug:"/sslverbindungeinrichtenveraltet"},l="SSL Verbindung einrichten [veraltet]",d={},o=[{value:"Voraussetzungen - Portweiterleitung",id:"voraussetzungen---portweiterleitung",level:2},{value:"Erstinstallation",id:"erstinstallation",level:2}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"ssl-verbindung-einrichten-veraltet",children:"SSL Verbindung einrichten [veraltet]"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"WICHTIG:"}),"  Zur Einrichtung der SSL Verbindung gibt es 2 M\xf6glichkeiten. Die folgende M\xf6glichkeit wird ab Version 1.2.0 ",(0,i.jsx)(n.strong,{children:"nicht"})," mehr empfohlen, da die Erneuerung der Zertifikate auf diese Weise aufw\xe4ndiger ist. Stattdessen wird empfohlen es \xfcber den ",(0,i.jsx)(n.a,{href:"https://handbuch.alarmiator.de/?docs=ssl-zertifikate-installieren-nginxpm",children:"NginX Proxy Manager zu installieren."})]}),"\n",(0,i.jsx)(n.p,{children:"Damit die Verbindung bei Nutzung der Weboberfl\xe4che verschl\xfcsselt erfolgt, musst Du die dazu n\xf6tigen Zertifikate anfordern und in Betrieb nehmen. Nach der initialen Inbetriebnahme werden die Zertifikate dann automatisch verl\xe4ngert."}),"\n",(0,i.jsx)(n.h2,{id:"voraussetzungen---portweiterleitung",children:"Voraussetzungen - Portweiterleitung"}),"\n",(0,i.jsx)(n.p,{children:"Damit die entsprechenden Zertifikate erstellt werden k\xf6nnen, muss Dein ALARMiator Server \xfcber den Port 80 aus dem Internet erreichbar sein. Die Zertifizierungsstelle baut w\xe4hrend des Prozesses kurz eine Verbindung zu Deinem Server auf um sicher zu stellen, dass die Anfrage auch berechtig ist."}),"\n",(0,i.jsx)(n.p,{children:'Um Deinen ALARMiator Server \xfcber Port 80 aus dem Internet erreichbar zu machen, musst Du in Deinem Router (der die Internetverbindung herstellt) und ggf. auch in Firewall-Systemen (solltest Du welche betreiben) eine Port-Weiterleitung einrichten. Da dies von Router zu Router unterschiedlich eingerichtet wird, k\xf6nnen wir hier an dieser Stelle keine direkte Anleitung geben. Suche in der Oberfl\xe4che Deines Router nach Begriffen wie "Port-Forwarding, Port-Weiterleitung, etc.".'}),"\n",(0,i.jsx)(n.p,{children:"Meist gibt man einen Quellport (das ist der aus dem Internet ankommende, hier Port 80), eine IP-Adress des Zielsystems (in unserem Fall Dein ALARMiator Server) und einen Zielport an (in unserem Fall auch wiederum Port 80)."}),"\n",(0,i.jsx)(n.h2,{id:"erstinstallation",children:"Erstinstallation"}),"\n",(0,i.jsx)(n.p,{children:"Starte einen SSH-Client, um \xfcber die Konsole auf Deinen ALARMiator Sever zugreifen zu k\xf6nnen. (Windows - Putty, Mac OS/Linux - Konsole). Melde Dich am Server mit Deinem Benutzer an."}),"\n",(0,i.jsx)(n.p,{children:"Als erstes muss snap auf Deinem Raspberry installiert werden. Snap ist ein Tool, mittels dem dann in den folgenden Schritten weitere Pakete installiert werden."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo apt update\n\nsudo apt install snapd\n"})}),"\n",(0,i.jsx)(n.p,{children:"Nun m\xfcssen ein paar Pakete installiert werden, die f\xfcr die Erstausstellung der Zertifikate sowie f\xfcr die dauerhafte automatische Erneuerung der Zertifikate sorgen. Gebe nun bitte folgende Befehle in der Kommandozeile ein und beantworte ggf. gestellte Fragen entsprechend:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo snap install core; sudo snap refresh core\n\nsudo snap install --classic certbot\n\nsudo ln -s /snap/bin/certbot /usr/bin/certbot\n\nsudo certbot certonly --standalone\n\nsudo chmod 0755 /etc/letsencrypt/{live,archive}\n\nsudo certbot renew --dry-run\n\nsudo sh -c 'printf \"#!/bin/sh\\npm2 stop /home/```username```/git/ALARMiator-Server/alarmiator_pm2.yml\\n\"  /etc/letsencrypt/renewal-hooks/pre/alarmiator_server.sh'\n\nsudo sh -c 'printf \"#!/bin/sh\\npm2 start /home/```username```/git/ALARMiator-Server/alarmiator_pm2.yml\\n\"  /etc/letsencrypt/renewal-hooks/post/alarmiator_server.sh'\n\nsudo chmod -R 755 /etc/letsencrypt/renewal-hooks/pre/alarmiator_server.sh\n\nsudo chmod -R 755 /etc/letsencrypt/renewal-hooks/post/alarmiator_server.sh```\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Damit die Zertifikate nun auch vom ALARMiator Server genutzt werden f\xfchre bitte im Unterordner ",(0,i.jsx)(n.code,{children:"/certificates"})," innerhalb des ALARMiator Ordners nun folgende Befehle aus:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"cd ~/alarmiatorserver/certificates\nsudo ln -s /etc/letsencrypt/live/```yoururl.xyz```/privkey.pem privkey.pem\nsudo ln -s /etc/letsencrypt/live/```yoururl.xyz```/fullchain.pem cert.pem\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Damit auch die REST API des Servers durch SSL gesch\xfctzt werden kann, f\xfchre nun folgende Befehle in dem entsprechenden Ordner ",(0,i.jsx)(n.code,{children:"/plugins/inbound/api/certificares"})," aus"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"cd ~/alarmiatorserver/plugins/inbound/api/certificates\nsudo ln -s /etc/letsencrypt/live/```yoururl.xyz```/privkey.pem privkey.pem\nsudo ln -s /etc/letsencrypt/live/```yoururl.xyz```/fullchain.pem cert.pem\n"})}),"\n",(0,i.jsx)(n.p,{children:"ersetze dabei yoirurl.xyz durch Deinen Domainnamen, den Du bei der Zertifikatregistrierung angegeben hast."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Achtung:"})," Der Server startet nach der Zertifikatgenerierung einmal neu (damit die neu generierten Zertifikate auch genutzt werden)."]})]})}function c(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>l});var t=r(6540);const i={},s=t.createContext(i);function a(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);