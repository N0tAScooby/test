"use strict";(globalThis.webpackChunkmy_docs=globalThis.webpackChunkmy_docs||[]).push([[5881],{1222:(e,n,i)=>{i.d(n,{A:()=>r});const r=i.p+"assets/images/image-1-73235457ccde14fe5227a93c90eb6565.png"},2551:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"automatic_ordering/Veraltet/reverseproxyeinrichtenveraltet/index","title":"Reverse Proxy einrichten [veraltet]","description":"Wir wollen das Web-UI, die REST-API, unseren Wallboardzugang und den Spaceport Socket hinter einen Reverse Proxy schalten. Um dies zu tun muss der NGINX Proxy Manager installiert sein. Wie das geht wurde im Guide zur SSL-Zertifikatseinrichtung gezeigt.","source":"@site/docs/automatic_ordering/Veraltet/reverseproxyeinrichtenveraltet/index.md","sourceDirName":"automatic_ordering/Veraltet/reverseproxyeinrichtenveraltet","slug":"/reverseproxyeinrichtenveraltet","permalink":"/test/docs/reverseproxyeinrichtenveraltet","draft":false,"unlisted":false,"editUrl":"https://github.com/N0tAScooby/test/edit/main/docs/automatic_ordering/Veraltet/reverseproxyeinrichtenveraltet/index.md","tags":[],"version":"current","frontMatter":{"title":"Reverse Proxy einrichten [veraltet]","slug":"/reverseproxyeinrichtenveraltet"},"sidebar":"tutorialSidebar","previous":{"title":"Terminkategorien anlegen","permalink":"/test/docs/terminkategorienanlegen"},"next":{"title":"SSL Verbindung einrichten [veraltet]","permalink":"/test/docs/sslverbindungeinrichtenveraltet"}}');var t=i(4848),s=i(8453);const d={title:"Reverse Proxy einrichten [veraltet]",slug:"/reverseproxyeinrichtenveraltet"},a="Reverse Proxy einrichten [veraltet]",c={},l=[{value:"Was ist ein Reverse Proxy?",id:"was-ist-ein-reverse-proxy",level:2},{value:"Reverse Proxy einrichten",id:"reverse-proxy-einrichten",level:2},{value:"Wie funktionieren die Weiterleitungen?",id:"wie-funktionieren-die-weiterleitungen",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"reverse-proxy-einrichten-veraltet",children:"Reverse Proxy einrichten [veraltet]"})}),"\n",(0,t.jsx)(n.p,{children:"Wir wollen das Web-UI, die REST-API, unseren Wallboardzugang und den Spaceport Socket hinter einen Reverse Proxy schalten. Um dies zu tun muss der NGINX Proxy Manager installiert sein. Wie das geht wurde im Guide zur SSL-Zertifikatseinrichtung gezeigt."}),"\n",(0,t.jsx)(n.h2,{id:"was-ist-ein-reverse-proxy",children:"Was ist ein Reverse Proxy?"}),"\n",(0,t.jsx)(n.p,{children:"Ein Reverse-Proxy sitzt vor einem Webserver und empf\xe4ngt alle Anfragen, bevor sie den Server erreichen. Er stellt sicher, dass kein Client direkt mit dem Server kommuniziert."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(8725).A+"",width:"1015",height:"330"})}),"\n",(0,t.jsx)(n.p,{children:"F\xfcr unseren Zweck stellt, er sicher, dass alle Anfragen per SSL verschl\xfcsselt sind und l\xe4sst uns einen Zugangspunkt zu unseren verschiedenen Anwendungen erstellen."}),"\n",(0,t.jsx)(n.h2,{id:"reverse-proxy-einrichten",children:"Reverse Proxy einrichten"}),"\n",(0,t.jsx)(n.p,{children:"Logge dich in deinem NGINX Proxy Manager ein."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"```ip-addresse```:81\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Ersetze ",(0,t.jsx)(n.code,{children:"ip-addresse"})," mit der Ip-Addresse deines Servers oder alternativ mit dem Hostnamen deines Servers. Den Hostnamen findest du heraus indem du folgendes im SSH-Fenster eingibst:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"hostname\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(5594).A+"",width:"1024",height:"375"})}),"\n",(0,t.jsx)(n.p,{children:'Navigiere zu "Proxy Hosts" und klicke auf "Add Proxy Host".'}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(1222).A+"",width:"718",height:"345"})}),"\n",(0,t.jsx)(n.p,{children:'Trage deine Domain ein und ersetze "hostname" mit dem Hostnamen deines ALARMiator Servers.'}),"\n",(0,t.jsx)(n.p,{children:"WICHTIG: Localhost oder 127.0.01 wird nicht akzeptiert es muss der Hostname oder die IP angegeben werden."}),"\n",(0,t.jsx)(n.p,{children:'Klicke nun auf "Custom Locations".'}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(3226).A+"",width:"498",height:"886"})}),"\n",(0,t.jsx)(n.p,{children:"Achte auch auf den extra / f\xfcr die Api Location!"}),"\n",(0,t.jsx)(n.p,{children:"Um den Spaceport Client \xfcber den Proxy anzusprechen richte folgende Custom-Location ein:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(7208).A+"",width:"543",height:"317"})}),"\n",(0,t.jsx)(n.p,{children:'Ersetze auch hier wieder "hostname".'}),"\n",(0,t.jsx)(n.p,{children:'Achte au\xdferdem auf den Slash hinter "hostname" bei der API Zuweisung.'}),"\n",(0,t.jsx)(n.p,{children:'Nun wollen wir noch ein SSL-Zertifikat einrichten. Klicke dazu auf "SSL".'}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(4279).A+"",width:"721",height:"354"})}),"\n",(0,t.jsx)(n.p,{children:"Force SSL und HSTS dienen beide der Erh\xf6hung der Sicherheit und sollte gesetzt sein."}),"\n",(0,t.jsx)(n.p,{children:"W\xe4hle dein SSL-Zertifikat aus, dass du bereits wie im Guide dazu erstellt hast."}),"\n",(0,t.jsx)(n.p,{children:"Nun hast du deinen Reverse Proxy eingerichtet allerdings wissen die Endger\xe4te deiner Nutzer nicht, dass Sie jetzt Anfragen \xfcber diesen senden sollen. Um das zu \xe4ndern gehe im Adminpanel deines Alarmiatorservers zum REST-API Plugin. Hier kannst du die Proxy Domain angeben."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(5180).A+"",width:"1024",height:"157"})}),"\n",(0,t.jsxs)(n.p,{children:['Hier musst du die URL angeben \xfcber welche die Endger\xe4te kommunizieren sollen, also die des Proxy z.B "',(0,t.jsx)(n.a,{href:"https://example.com:443/api",children:"https://example.com:443/api"}),'".']}),"\n",(0,t.jsx)(n.p,{children:"Wir geben hier explizit Port 443 an um \xfcber https zu kommunizieren."}),"\n",(0,t.jsx)(n.p,{children:"Diese wird den Endger\xe4ten mitgeteilt und Sie werden automatisch auf diese URL migriert, sobald Sie mit dem Server kommunizieren."}),"\n",(0,t.jsx)(n.p,{children:'Damit die automatische Migrierung funktioniert muss nat\xfcrlich der alte Kommunikationsweg noch bestehen, um die neue URL \xfcberhaupt zu bekommen. Deshalb muss f\xfcr eine gewisse Zeit der Reverse Proxy und der alte Standardweg aktiv sein, bis sich alle Endger\xe4te einmal "gemeldet" haben. Danach kann der alte Weg abgestellt werden und der Port 5010 oder 5443 geschlossen werden, da wir ja nun Port 443 des Proxy Managers benutzen um intern auf Port 5010 des ALARMiator Server weiterzuleiten.'}),"\n",(0,t.jsx)(n.p,{children:"Als Nutzer kann man in den Profileinstellungen in der App sehen welche URL hinterlegt ist um nachzupr\xfcfen welchen Kommunikationsweg man (wie das geht findest du im Guide zu den Handyapps)"}),"\n",(0,t.jsx)(n.h2,{id:"wie-funktionieren-die-weiterleitungen",children:"Wie funktionieren die Weiterleitungen?"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Domain"}),(0,t.jsx)(n.th,{children:"Service"}),(0,t.jsx)(n.th,{children:"Port"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"example.com"}),(0,t.jsx)(n.td,{children:"Web-UI"}),(0,t.jsx)(n.td,{children:"5000"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"example.com/api/"}),(0,t.jsx)(n.td,{children:"Rest-API"}),(0,t.jsx)(n.td,{children:"5010"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"example.com/socket.io/"}),(0,t.jsx)(n.td,{children:"Wallboard"}),(0,t.jsx)(n.td,{children:"5020"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"example.com/spaceport/socket.io/"}),(0,t.jsx)(n.td,{children:"Spaceport-Client"}),(0,t.jsx)(n.td,{children:"5555"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:"Hier siehst du wie du nun auf die verschiedenen Services zugreifen kannst, wenn du Sie an deinem Server aktiviert hast."}),"\n",(0,t.jsx)(n.p,{children:"Die socket.io Verbindungen sind f\xfcr die Daten\xfcbermittlung an das Wallboard und den Spaceport erforderlich. Die Wallboard Seite selbst wird \xfcber die Api angezeigt. DIe Daten zur Bef\xfcllung der WIdget werden im Hintergrund \xfcber die socket.io Verbindung geladen. Es muss also f\xfcr ein funktionierendes Wallboard von au\xdfen sowohl die API als auch der Wallboardsocket erreichbar sein."})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},3226:(e,n,i)=>{i.d(n,{A:()=>r});const r=i.p+"assets/images/image-52-b7eece1a06a0c9a466692116d5b0166e.png"},4279:(e,n,i)=>{i.d(n,{A:()=>r});const r=i.p+"assets/images/image-8-6215c4c3714f03425c9011f35323c03e.png"},5180:(e,n,i)=>{i.d(n,{A:()=>r});const r=i.p+"assets/images/image-2-1024x157-e7cb05e179dc94413f4faec26a1abb9d.png"},5594:(e,n,i)=>{i.d(n,{A:()=>r});const r=i.p+"assets/images/image-20-1024x375-0211ed4260e9ec0b6de295cdd5155b3c.png"},7208:(e,n,i)=>{i.d(n,{A:()=>r});const r=i.p+"assets/images/image-feecdb5ac0570d058440c3abdb6fdb17.png"},8453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>a});var r=i(6540);const t={},s=r.createContext(t);function d(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),r.createElement(s.Provider,{value:n},e.children)}},8725:(e,n,i)=>{i.d(n,{A:()=>r});const r=i.p+"assets/images/image-19-8e1c287a190c87dbeeb38a8289c89cef.png"}}]);