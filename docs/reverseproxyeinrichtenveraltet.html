<!doctype html>
<html lang="de" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Veraltet/reverseproxyeinrichtenveraltet/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Reverse Proxy einrichten [veraltet] | ALARMiator</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://N0tAScooby.github.io/test/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://N0tAScooby.github.io/test/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://N0tAScooby.github.io/test/docs/reverseproxyeinrichtenveraltet"><meta data-rh="true" property="og:locale" content="de"><meta data-rh="true" name="docusaurus_locale" content="de"><meta data-rh="true" name="docsearch:language" content="de"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Reverse Proxy einrichten [veraltet] | ALARMiator"><meta data-rh="true" name="description" content="Wir wollen das Web-UI, die REST-API, unseren Wallboardzugang und den Spaceport Socket hinter einen Reverse Proxy schalten. Um dies zu tun muss der NGINX Proxy Manager installiert sein. Wie das geht wurde im Guide zur SSL-Zertifikatseinrichtung gezeigt."><meta data-rh="true" property="og:description" content="Wir wollen das Web-UI, die REST-API, unseren Wallboardzugang und den Spaceport Socket hinter einen Reverse Proxy schalten. Um dies zu tun muss der NGINX Proxy Manager installiert sein. Wie das geht wurde im Guide zur SSL-Zertifikatseinrichtung gezeigt."><link data-rh="true" rel="icon" href="/test/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://N0tAScooby.github.io/test/docs/reverseproxyeinrichtenveraltet"><link data-rh="true" rel="alternate" href="https://N0tAScooby.github.io/test/docs/reverseproxyeinrichtenveraltet" hreflang="de"><link data-rh="true" rel="alternate" href="https://N0tAScooby.github.io/test/docs/reverseproxyeinrichtenveraltet" hreflang="x-default"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href="/test/assets/css/styles.fc6ed265.css">
<script src="/test/assets/js/runtime~main.2f6dbc06.js" defer="defer"></script>
<script src="/test/assets/js/main.7c146a8d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/test/img/alarmiator-logo.webp"><div role="region" aria-label="Zum Hauptinhalt springen"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Zum Hauptinhalt springen</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/test/"><div class="navbar__logo"><img src="/test/img/alarmiator-logo.webp" alt="ALARMiator Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/test/img/alarmiator-logo.webp" alt="ALARMiator Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">ALARMiator</b></a><a class="navbar__item navbar__link" docpluginid="default" href="/test/docs/intro">Server Doku</a><a class="navbar__item navbar__link" docpluginid="default" href="/test/docs/docs-mobile/intro">Mobile App Doku</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/N0tAScooby/test" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Umschalten zwischen dunkler und heller Ansicht (momentan system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Zurück nach oben scrollen" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Auf dieser Seite</button></div><div class="theme-doc-markdown markdown"><header><h1>Reverse Proxy einrichten [veraltet]</h1></header>
<p>Wir wollen das Web-UI, die REST-API, unseren Wallboardzugang und den Spaceport Socket hinter einen Reverse Proxy schalten. Um dies zu tun muss der NGINX Proxy Manager installiert sein. Wie das geht wurde im Guide zur SSL-Zertifikatseinrichtung gezeigt.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="was-ist-ein-reverse-proxy">Was ist ein Reverse Proxy?<a href="#was-ist-ein-reverse-proxy" class="hash-link" aria-label="Direkter Link zur Was ist ein Reverse Proxy?" title="Direkter Link zur Was ist ein Reverse Proxy?" translate="no">​</a></h2>
<p>Ein Reverse-Proxy sitzt vor einem Webserver und empfängt alle Anfragen, bevor sie den Server erreichen. Er stellt sicher, dass kein Client direkt mit dem Server kommuniziert.</p>
<p><img decoding="async" loading="lazy" src="/test/assets/images/image-19-8e1c287a190c87dbeeb38a8289c89cef.png" width="1015" height="330" class="img_ev3q"></p>
<p>Für unseren Zweck stellt, er sicher, dass alle Anfragen per SSL verschlüsselt sind und lässt uns einen Zugangspunkt zu unseren verschiedenen Anwendungen erstellen.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="reverse-proxy-einrichten">Reverse Proxy einrichten<a href="#reverse-proxy-einrichten" class="hash-link" aria-label="Direkter Link zur Reverse Proxy einrichten" title="Direkter Link zur Reverse Proxy einrichten" translate="no">​</a></h2>
<p>Logge dich in deinem NGINX Proxy Manager ein.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">```ip-addresse```:81</span><br></span></code></pre></div></div>
<p>Ersetze <code>ip-addresse</code> mit der Ip-Addresse deines Servers oder alternativ mit dem Hostnamen deines Servers. Den Hostnamen findest du heraus indem du folgendes im SSH-Fenster eingibst:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">hostname</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" src="/test/assets/images/image-20-1024x375-0211ed4260e9ec0b6de295cdd5155b3c.png" width="1024" height="375" class="img_ev3q"></p>
<p>Navigiere zu &quot;Proxy Hosts&quot; und klicke auf &quot;Add Proxy Host&quot;.</p>
<p><img decoding="async" loading="lazy" src="/test/assets/images/image-1-73235457ccde14fe5227a93c90eb6565.png" width="718" height="345" class="img_ev3q"></p>
<p>Trage deine Domain ein und ersetze &quot;hostname&quot; mit dem Hostnamen deines ALARMiator Servers.</p>
<p>WICHTIG: Localhost oder 127.0.01 wird nicht akzeptiert es muss der Hostname oder die IP angegeben werden.</p>
<p>Klicke nun auf &quot;Custom Locations&quot;.</p>
<p><img decoding="async" loading="lazy" src="/test/assets/images/image-52-b7eece1a06a0c9a466692116d5b0166e.png" width="498" height="886" class="img_ev3q"></p>
<p>Achte auch auf den extra / für die Api Location!</p>
<p>Um den Spaceport Client über den Proxy anzusprechen richte folgende Custom-Location ein:</p>
<p><img decoding="async" loading="lazy" src="/test/assets/images/image-feecdb5ac0570d058440c3abdb6fdb17.png" width="543" height="317" class="img_ev3q"></p>
<p>Ersetze auch hier wieder &quot;hostname&quot;.</p>
<p>Achte außerdem auf den Slash hinter &quot;hostname&quot; bei der API Zuweisung.</p>
<p>Nun wollen wir noch ein SSL-Zertifikat einrichten. Klicke dazu auf &quot;SSL&quot;.</p>
<p><img decoding="async" loading="lazy" src="/test/assets/images/image-8-6215c4c3714f03425c9011f35323c03e.png" width="721" height="354" class="img_ev3q"></p>
<p>Force SSL und HSTS dienen beide der Erhöhung der Sicherheit und sollte gesetzt sein.</p>
<p>Wähle dein SSL-Zertifikat aus, dass du bereits wie im Guide dazu erstellt hast.</p>
<p>Nun hast du deinen Reverse Proxy eingerichtet allerdings wissen die Endgeräte deiner Nutzer nicht, dass Sie jetzt Anfragen über diesen senden sollen. Um das zu ändern gehe im Adminpanel deines Alarmiatorservers zum REST-API Plugin. Hier kannst du die Proxy Domain angeben.</p>
<p><img decoding="async" loading="lazy" src="/test/assets/images/image-2-1024x157-e7cb05e179dc94413f4faec26a1abb9d.png" width="1024" height="157" class="img_ev3q"></p>
<p>Hier musst du die URL angeben über welche die Endgeräte kommunizieren sollen, also die des Proxy z.B &quot;<a href="https://example.com:443/api" target="_blank" rel="noopener noreferrer" class="">https://example.com:443/api</a>&quot;.</p>
<p>Wir geben hier explizit Port 443 an um über https zu kommunizieren.</p>
<p>Diese wird den Endgeräten mitgeteilt und Sie werden automatisch auf diese URL migriert, sobald Sie mit dem Server kommunizieren.</p>
<p>Damit die automatische Migrierung funktioniert muss natürlich der alte Kommunikationsweg noch bestehen, um die neue URL überhaupt zu bekommen. Deshalb muss für eine gewisse Zeit der Reverse Proxy und der alte Standardweg aktiv sein, bis sich alle Endgeräte einmal &quot;gemeldet&quot; haben. Danach kann der alte Weg abgestellt werden und der Port 5010 oder 5443 geschlossen werden, da wir ja nun Port 443 des Proxy Managers benutzen um intern auf Port 5010 des ALARMiator Server weiterzuleiten.</p>
<p>Als Nutzer kann man in den Profileinstellungen in der App sehen welche URL hinterlegt ist um nachzuprüfen welchen Kommunikationsweg man (wie das geht findest du im Guide zu den Handyapps)</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="wie-funktionieren-die-weiterleitungen">Wie funktionieren die Weiterleitungen?<a href="#wie-funktionieren-die-weiterleitungen" class="hash-link" aria-label="Direkter Link zur Wie funktionieren die Weiterleitungen?" title="Direkter Link zur Wie funktionieren die Weiterleitungen?" translate="no">​</a></h2>
<table><thead><tr><th>Domain</th><th>Service</th><th>Port</th></tr></thead><tbody><tr><td>example.com</td><td>Web-UI</td><td>5000</td></tr><tr><td>example.com/api/</td><td>Rest-API</td><td>5010</td></tr><tr><td>example.com/socket.io/</td><td>Wallboard</td><td>5020</td></tr><tr><td>example.com/spaceport/socket.io/</td><td>Spaceport-Client</td><td>5555</td></tr></tbody></table>
<p>Hier siehst du wie du nun auf die verschiedenen Services zugreifen kannst, wenn du Sie an deinem Server aktiviert hast.</p>
<p>Die socket.io Verbindungen sind für die Datenübermittlung an das Wallboard und den Spaceport erforderlich. Die Wallboard Seite selbst wird über die Api angezeigt. DIe Daten zur Befüllung der WIdget werden im Hintergrund über die socket.io Verbindung geladen. Es muss also für ein funktionierendes Wallboard von außen sowohl die API als auch der Wallboardsocket erreichbar sein.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/N0tAScooby/test/edit/main/docs/Veraltet/reverseproxyeinrichtenveraltet/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Diese Seite bearbeiten</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Dokumentation Seiten"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#was-ist-ein-reverse-proxy" class="table-of-contents__link toc-highlight">Was ist ein Reverse Proxy?</a></li><li><a href="#reverse-proxy-einrichten" class="table-of-contents__link toc-highlight">Reverse Proxy einrichten</a></li><li><a href="#wie-funktionieren-die-weiterleitungen" class="table-of-contents__link toc-highlight">Wie funktionieren die Weiterleitungen?</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/test/docs/intro">Server Doku</a></li><li class="footer__item"><a class="footer__link-item" href="/test/docs/docs-mobile/intro">Mobile App Doku</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/N0tAScooby/test" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Repo<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 ALARMiator. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>